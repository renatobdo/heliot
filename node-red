1) Deve-se importar o random (node-red-contrib-viseo-random)
2) Para adicionar a latitude e a longitude da UFABC utilizei o seguinte site: https://www.latlong.net/
Coloquei o endereço da UFABC: Alameda Da Universidade, S/N - Anchieta, São Bernardo Do Campo - SP, 09606-045
Peguei a latitude e longitude de todos os prédios da UFABC de São Bernardo do Campo.


[{"id":"71a09c7.42614e4","type":"tab","label":"CLIMA AgoraV2_1","disabled":false,"info":""},{"id":"bf90292e.f7ffb","type":"inject","z":"71a09c7.42614e4","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"3","topic":"","payload":"","payloadType":"date","x":80,"y":160,"wires":[["ded5ff4f.c65df"]]},{"id":"7eca7a5b.fb2694","type":"http request","z":"71a09c7.42614e4","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://api.openweathermap.org/data/2.5/weather?lat=-23.6766474&lon=-46.5568912&appid=c7f8bc1d2e8a77746581de0ac142c8b3&units=metric","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":120,"wires":[["2740e706.e7231","837a2fe4.a16a8"]]},{"id":"2740e706.e7231","type":"json","z":"71a09c7.42614e4","name":"","property":"payload","action":"","pretty":false,"x":590,"y":100,"wires":[["4e7c0a0f.81e84c","f42113c4.aeedd"]]},{"id":"f42113c4.aeedd","type":"debug","z":"71a09c7.42614e4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":850,"y":40,"wires":[]},{"id":"4e7c0a0f.81e84c","type":"change","z":"71a09c7.42614e4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.main.temp","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":140,"wires":[["fd6637dd.b7d5","dfdd00ff.2d9308"]]},{"id":"fd6637dd.b7d5","type":"debug","z":"71a09c7.42614e4","name":"payload da mensagem","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1160,"y":100,"wires":[]},{"id":"dfdd00ff.2d9308","type":"template","z":"71a09c7.42614e4","name":"payload UL com |","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"4c|{{payload}}","output":"str","x":1150,"y":180,"wires":[["e02cbf9f.92db9","6d0fadf9.e9085c"]]},{"id":"e02cbf9f.92db9","type":"debug","z":"71a09c7.42614e4","name":"broker 177_","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1450,"y":240,"wires":[]},{"id":"c1db32e2.2e3978","type":"mqtt in","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"2","datatype":"auto","broker":"553e4f2a.d90218","x":1270,"y":520,"wires":[["8d4a7d7e.d34a3","6ed018ca.4164"]]},{"id":"8d4a7d7e.d34a3","type":"debug","z":"71a09c7.42614e4","name":"broker 177","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1470,"y":520,"wires":[]},{"id":"b9b4dc62.7f149","type":"http request","z":"71a09c7.42614e4","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://api.openweathermap.org/data/2.5/weather?lat=-23.6766474&lon=-46.5568912&appid=c7f8bc1d2e8a77746581de0ac142c8b3&units=metric&mode=xml","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":220,"wires":[["4720d215.ea51cc"]]},{"id":"837a2fe4.a16a8","type":"debug","z":"71a09c7.42614e4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":610,"y":20,"wires":[]},{"id":"62c9026e.bfa50c","type":"debug","z":"71a09c7.42614e4","name":"temperaturaMinXML","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.current.temperature[0].$.min","targetType":"msg","statusVal":"","statusType":"auto","x":640,"y":380,"wires":[]},{"id":"4720d215.ea51cc","type":"xml","z":"71a09c7.42614e4","name":"","property":"payload","attr":"","chr":"","x":410,"y":300,"wires":[["62c9026e.bfa50c","191d904a.6ade98","345a926b.631ca6"]]},{"id":"6a57073a.1ee968","type":"template","z":"71a09c7.42614e4","name":"Payload em XML","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"1<measure device=\"motion001\" key=\"4jggokgpepnvsb2uv4s40d59ov\">\n    <c value=\"{{payload}}\" />\n</measure>","output":"str","x":870,"y":300,"wires":[["47f9103b.5a464","8ec04024.2ad7"]]},{"id":"191d904a.6ade98","type":"change","z":"71a09c7.42614e4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.current.temperature[0].$.value","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":300,"wires":[["6a57073a.1ee968"]]},{"id":"47f9103b.5a464","type":"debug","z":"71a09c7.42614e4","name":"Payload XML customizado","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1180,"y":360,"wires":[]},{"id":"345a926b.631ca6","type":"debug","z":"71a09c7.42614e4","name":"Payload xml completo","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":640,"y":200,"wires":[]},{"id":"8ec04024.2ad7","type":"mqtt out","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"0","retain":"false","broker":"553e4f2a.d90218","x":1130,"y":260,"wires":[]},{"id":"6d0fadf9.e9085c","type":"mqtt out","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"0","retain":"false","broker":"553e4f2a.d90218","x":1450,"y":160,"wires":[]},{"id":"6ed018ca.4164","type":"create dataset","z":"71a09c7.42614e4","name":"testes","path":"/home/renatobdo/dockerUp","saveFolder":"/home/renatobdo/dockerUp","saveName":"heliot","input":"","output":"","trainingPartition":"","shuffle":"","seed":"","x":1450,"y":600,"wires":[[]]},{"id":"ded5ff4f.c65df","type":"random","z":"71a09c7.42614e4","name":"","outputs":5,"scope":"msg","x":160,"y":300,"wires":[["7eca7a5b.fb2694"],["b9b4dc62.7f149"],["e88c0dbe.2a1d1"],["37c7f17a.dc52fe"],["d259858a.6f98e"]]},{"id":"37c7f17a.dc52fe","type":"http request","z":"71a09c7.42614e4","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://api.openweathermap.org/data/2.5/weather?lat=-23.6766474&lon=-46.5568912&appid=c7f8bc1d2e8a77746581de0ac142c8b3&units=metric","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":660,"wires":[["eb0a3c5a.946b5"]]},{"id":"eb0a3c5a.946b5","type":"json","z":"71a09c7.42614e4","name":"","property":"payload","action":"","pretty":false,"x":590,"y":760,"wires":[["cb4daa69.38e858"]]},{"id":"cb4daa69.38e858","type":"change","z":"71a09c7.42614e4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.main.temp","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":760,"wires":[["881068aa.9d1a68"]]},{"id":"881068aa.9d1a68","type":"template","z":"71a09c7.42614e4","name":"payload em json","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"3{\"c\":\"{{payload}}\"}","output":"str","x":1000,"y":760,"wires":[["2da61512.41217a"]]},{"id":"2da61512.41217a","type":"mqtt out","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"0","retain":"false","broker":"553e4f2a.d90218","x":1210,"y":760,"wires":[]},{"id":"da7a87e2.aea2e","type":"mqtt out","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"0","retain":"false","broker":"553e4f2a.d90218","x":610,"y":520,"wires":[]},{"id":"d259858a.6f98e","type":"http request","z":"71a09c7.42614e4","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://api.openweathermap.org/data/2.5/weather?lat=-23.6766474&lon=-46.5568912&appid=c7f8bc1d2e8a77746581de0ac142c8b3&units=metric&mode=html","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":860,"wires":[["2a906a3.d4f0e16"]]},{"id":"78c5aea.db433d","type":"debug","z":"71a09c7.42614e4","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":950,"y":960,"wires":[]},{"id":"2a906a3.d4f0e16","type":"html","z":"71a09c7.42614e4","name":"","property":"payload","outproperty":"payload","tag":"div","ret":"text","as":"single","x":570,"y":860,"wires":[["36c722f9.b44d9e"]]},{"id":"46a4df9.5487c2","type":"template","z":"71a09c7.42614e4","name":"payload em html","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"2<!DOCTYPE html>\n<div title=\"Current Temperature\">{{payload}}</div>","output":"str","x":740,"y":960,"wires":[["78c5aea.db433d","b4b0e8e8.2d8d4"]]},{"id":"36c722f9.b44d9e","type":"change","z":"71a09c7.42614e4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[5]","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":960,"wires":[["46a4df9.5487c2"]]},{"id":"b4b0e8e8.2d8d4","type":"mqtt out","z":"71a09c7.42614e4","name":"","topic":"iotamanager","qos":"0","retain":"false","broker":"553e4f2a.d90218","x":950,"y":880,"wires":[]},{"id":"e88c0dbe.2a1d1","type":"template","z":"71a09c7.42614e4","name":"Payload aleatório","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"5{{payload}}","output":"str","x":390,"y":440,"wires":[["e8b3a7cf.bf1be8","da7a87e2.aea2e"]]},{"id":"e8b3a7cf.bf1be8","type":"debug","z":"71a09c7.42614e4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":620,"y":460,"wires":[]},{"id":"553e4f2a.d90218","type":"mqtt-broker","z":"","name":"mosquitto","broker":"177.104.61.27","port":"1883","clientid":"","usetls":false,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""}]
